import{u as d,r as i,j as o}from"./index-184e6fdf.js";import{H as f}from"./Headers-27532b37.js";import{a as g}from"./axios-345d0e8d.js";import{M as x}from"./md5-b5efbca3.js";import{I as m}from"./Input-5befa27c.js";import{M as r}from"./index-c44e1336.js";import{B as w}from"./useGlobalIcon-6f4b87c8.js";import"./getSlots-504e8e8d.js";import"./resolveShorthand-d409517b.js";import"./useEventCallback-c6d905c8.js";import"./__resetStyles.esm-715586b5.js";let c;function K(){c=d(),i.useEffect(()=>{document.title="后台管理",h()},[]);const[s,a]=i.useState(""),[e,n]=i.useState("");return o.jsxs("div",{children:[o.jsx(f,{components:"",to:"/"}),o.jsxs("div",{className:"flex flex-col items-center mt-4",children:[o.jsx("label",{className:"text-2xl",children:"身份验证"}),o.jsx(m,{className:"w-64 mt-4 mb-2",placeholder:"请输入用户名",value:s,onChange:t=>a(t.target.value),onKeyDown:t=>l(t,s,e)}),o.jsx(m,{className:"w-64 mb-2",placeholder:"请输入管理员密码",type:"password",value:e,onChange:t=>n(t.target.value),onKeyDown:t=>l(t,s,e)}),o.jsx(w,{className:"w-64",appearance:"primary",onClick:()=>{p(s,e)},children:"验证"})]})]})}function l(s,a,e){s.key==="Enter"&&p(a,e)}function p(s,a){const e=x.hashStr(a);console.log(e);const n={username:s,password:e};g.post("/api/verifyUser",n).then(t=>{t.data.result?(sessionStorage.setItem("username",s),sessionStorage.setItem("password",e),r.success("欢迎回来，"+sessionStorage.getItem("username")),u()):r.error("用户名或密码错误")})}function h(){sessionStorage.getItem("username")!==null?(r.success("欢迎回来，"+sessionStorage.getItem("username")),u()):r.error("请先登录")}function u(){c("/admin")}export{K as default};
