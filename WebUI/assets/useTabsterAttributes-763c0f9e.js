import{w as z,K as be,t as Je,v as qe,b as Xe,r as $e,o as Ye}from"./index-ab6327af.js";/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const P="data-tabster",Ce="data-tabster-dummy",Re="tabster:deloser",Me="tabster:modalizer:active",xe="tabster:modalizer:inactive",Ze="tabster:modalizer:focusin",et="tabster:modalizer:focusout",ke="tabster:modalizer:beforefocusout",ae="tabster:mover",Oe="tabster:focusin",Ae="tabster:focusout",tt={Any:0,Accessible:1,Focusable:2},S={History:0,DeloserDefault:1,RootDefault:2,DeloserFirst:3,RootFirst:4},N={Invisible:0,PartiallyVisible:1,Visible:2},B={Both:0,Vertical:1,Horizontal:2,Grid:3},ze={Unlimited:0,Limited:1,LimitedTrapFocus:2},Ne={Auto:0,Inside:1,Outside:2};var jt=Object.freeze({__proto__:null,TabsterAttributeName:P,TabsterDummyInputAttributeName:Ce,DeloserEventName:Re,ModalizerActiveEventName:Me,ModalizerInactiveEventName:xe,ModalizerFocusInEventName:Ze,ModalizerFocusOutEventName:et,ModalizerBeforeFocusOutEventName:ke,MoverEventName:ae,FocusInEventName:Oe,FocusOutEventName:Ae,ObservedElementAccesibilities:tt,RestoreFocusOrders:S,Visibilities:N,MoverDirections:B,GroupperTabbabilities:ze,SysDummyInputsPositions:Ne});/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function x(c,e){var t;return(t=c.storageEntry(e))===null||t===void 0?void 0:t.tabster}function Pe(c,e,t){var i,s;const o=t||c._noop?void 0:e.getAttribute(P);let r=c.storageEntry(e),a;if(o)if(o!==((i=r==null?void 0:r.attr)===null||i===void 0?void 0:i.string))try{const f=JSON.parse(o);if(typeof f!="object")throw new Error(`Value is not a JSON object, got '${o}'.`);a={string:o,object:f}}catch{}else return;else if(!r)return;r||(r=c.storageEntry(e,!0)),r.tabster||(r.tabster={});const n=r.tabster||{},u=((s=r.attr)===null||s===void 0?void 0:s.object)||{},l=(a==null?void 0:a.object)||{};for(const f of Object.keys(u))if(!l[f]){if(f==="root"){const m=n[f];m&&c.root.onRoot(m,!0)}switch(f){case"deloser":case"root":case"groupper":case"modalizer":case"mover":const m=n[f];m&&(m.dispose(),delete n[f]);break;case"observed":delete n[f],c.observedElement&&c.observedElement.onObservedElementUpdate(e);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete n[f];break}}for(const f of Object.keys(l)){const m=l.sys;switch(f){case"deloser":n.deloser?n.deloser.setProps(l.deloser):c.deloser&&(n.deloser=c.deloser.createDeloser(e,l.deloser));break;case"root":n.root?n.root.setProps(l.root):n.root=c.root.createRoot(e,l.root,m),c.root.onRoot(n.root);break;case"modalizer":n.modalizer?n.modalizer.setProps(l.modalizer):c.modalizer&&(n.modalizer=c.modalizer.createModalizer(e,l.modalizer,m));break;case"focusable":n.focusable=l.focusable;break;case"groupper":n.groupper?n.groupper.setProps(l.groupper):c.groupper&&(n.groupper=c.groupper.createGroupper(e,l.groupper,m));break;case"mover":n.mover?n.mover.setProps(l.mover):c.mover&&(n.mover=c.mover.createMover(e,l.mover,m));break;case"observed":c.observedElement&&(n.observed=l.observed,c.observedElement.onObservedElementUpdate(e));break;case"uncontrolled":n.uncontrolled=l.uncontrolled;break;case"outline":c.outline&&(n.outline=l.outline);break;case"sys":n.sys=l.sys;break;default:console.error(`Unknown key '${f}' in data-tabster attribute value.`)}}a?r.attr=a:(Object.keys(n).length===0&&(delete r.tabster,delete r.attr),c.storageEntry(e,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function it(c){const e=c();try{if(e.EventTarget)return new e.EventTarget}catch(t){if(!(t instanceof TypeError))throw t}return e.document.createElement("div")}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let ue;const pe=typeof DOMRect<"u"?DOMRect:class{constructor(c,e,t,i){this.left=c||0,this.top=e||0,this.right=(c||0)+(t||0),this.bottom=(e||0)+(i||0)}};let st=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),ue=!1}catch{ue=!0}const se=100;function W(c){const e=c();let t=e.__tabsterInstanceContext;return t||(t={elementByUId:{},basics:{Promise:e.Promise||void 0,WeakRef:e.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},e.__tabsterInstanceContext=t),t}function ot(c){const e=c.__tabsterInstanceContext;e&&(e.elementByUId={},delete e.WeakRef,e.containerBoundingRectCache={},e.containerBoundingRectCacheTimer&&c.clearTimeout(e.containerBoundingRectCacheTimer),e.fakeWeakRefsTimer&&c.clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefs=[],delete c.__tabsterInstanceContext)}function rt(c){const e=c.__tabsterInstanceContext;return new((e==null?void 0:e.basics.WeakMap)||WeakMap)}class Le{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return e._target?t||!J(e._target.ownerDocument,e._target)?(delete e._target,!0):!1:!0}}class L{constructor(e,t,i){const s=W(e);let o;s.WeakRef?o=new s.WeakRef(t):(o=new Le(t),s.fakeWeakRefs.push(o)),this._ref=o,this._data=i}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function We(c,e){const t=W(c);t.fakeWeakRefs=t.fakeWeakRefs.filter(i=>!Le.cleanup(i,e))}function Ue(c){const e=W(c);e.fakeWeakRefsStarted||(e.fakeWeakRefsStarted=!0,e.WeakRef=lt(e)),e.fakeWeakRefsTimer||(e.fakeWeakRefsTimer=c().setTimeout(()=>{e.fakeWeakRefsTimer=void 0,We(c),Ue(c)},2*60*1e3))}function nt(c){const e=W(c);e.fakeWeakRefsStarted=!1,e.fakeWeakRefsTimer&&(c().clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefsTimer=void 0,e.fakeWeakRefs=[])}function fe(c,e,t){if(e.nodeType!==Node.ELEMENT_NODE)return;const i=ue?t:{acceptNode:t};return c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1)}function Se(c,e){let t=e.__tabsterCacheId;const i=W(c),s=t?i.containerBoundingRectCache[t]:void 0;if(s)return s.rect;const o=e.ownerDocument&&e.ownerDocument.documentElement;if(!o)return new pe;let r=0,a=0,n=o.clientWidth,u=o.clientHeight;if(e!==o){const f=e.getBoundingClientRect();r=Math.max(r,f.left),a=Math.max(a,f.top),n=Math.min(n,f.right),u=Math.min(u,f.bottom)}const l=new pe(r<n?r:-1,a<u?a:-1,r<n?n-r:0,a<u?u-a:0);return t||(t="r-"+ ++i.lastContainerBoundingRectCacheId,e.__tabsterCacheId=t),i.containerBoundingRectCache[t]={rect:l,element:e},i.containerBoundingRectCacheTimer||(i.containerBoundingRectCacheTimer=window.setTimeout(()=>{i.containerBoundingRectCacheTimer=void 0;for(const f of Object.keys(i.containerBoundingRectCache))delete i.containerBoundingRectCache[f].element.__tabsterCacheId;i.containerBoundingRectCache={}},50)),l}function ge(c,e,t){const i=Be(e);if(!i)return!1;const s=Se(c,i),o=e.getBoundingClientRect(),r=o.height*(1-t),a=Math.max(0,s.top-o.top),n=Math.max(0,o.bottom-s.bottom),u=a+n;return u===0||u<=r}function Ee(c,e,t){const i=Be(e);if(i){const s=Se(c,i),o=e.getBoundingClientRect();t?i.scrollTop+=o.top-s.top:i.scrollTop+=o.bottom-s.bottom}}function Be(c){const e=c.ownerDocument;if(e){for(let t=c.parentElement;t;t=t.parentElement)if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return e.documentElement}return null}function at(c){c.__shouldIgnoreFocus=!0}function Ve(c){return!!c.__shouldIgnoreFocus}function ut(c){const e=new Uint32Array(4);if(c.crypto&&c.crypto.getRandomValues)c.crypto.getRandomValues(e);else if(c.msCrypto&&c.msCrypto.getRandomValues)c.msCrypto.getRandomValues(e);else for(let i=0;i<e.length;i++)e[i]=4294967295*Math.random();const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(36));return t.push("|"),t.push((++st).toString(36)),t.push("|"),t.push(Date.now().toString(36)),t.join("")}function G(c,e){const t=W(c);let i=e.__tabsterElementUID;return i||(i=e.__tabsterElementUID=ut(c())),!t.elementByUId[i]&&J(e.ownerDocument,e)&&(t.elementByUId[i]=new L(c,e)),i}function Te(c,e){const t=W(c);for(const i of Object.keys(t.elementByUId)){const s=t.elementByUId[i],o=s&&s.get();o&&e&&!e.contains(o)||delete t.elementByUId[i]}}function J(c,e){var t;return!!(!((t=c==null?void 0:c.body)===null||t===void 0)&&t.contains(e))}function Ge(c,e){const t=c.matches||c.matchesSelector||c.msMatchesSelector||c.webkitMatchesSelector;return t&&t.call(c,e)}function Ke(c){const e=W(c);if(e.basics.Promise)return e.basics.Promise;throw new Error("No Promise defined.")}function lt(c){return c.basics.WeakRef}let ct=0;class H{constructor(e,t,i){const s=e.getWindow;this._tabster=e,this._element=new L(s,t),this._props={...i},this.id="i"+ ++ct}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class le{constructor(e,t,i,s){var o;this._focusIn=u=>{const l=this.input;if(this.onFocusIn&&l){const f=A.getLastPhantomFrom()||u.relatedTarget;this.onFocusIn(this,this._isBackward(!0,l,f),f)}},this._focusOut=u=>{this.useDefaultAction=!1;const l=this.input;if(this.onFocusOut&&l){const f=u.relatedTarget;this.onFocusOut(this,this._isBackward(!1,l,f),f)}};const r=e(),a=r.document.createElement("i");a.tabIndex=0,a.setAttribute("role","none"),a.setAttribute(Ce,""),a.setAttribute("aria-hidden","true");const n=a.style;n.position="fixed",n.width=n.height="1px",n.opacity="0.001",n.zIndex="-1",n.setProperty("content-visibility","hidden"),at(a),this.input=a,this.isFirst=i.isFirst,this.isOutside=t,this._isPhantom=(o=i.isPhantom)!==null&&o!==void 0?o:!1,a.addEventListener("focusin",this._focusIn),a.addEventListener("focusout",this._focusOut),a.__tabsterDummyContainer=s,this._isPhantom&&(this._disposeTimer=r.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(r.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,(e=t.parentElement)===null||e===void 0||e.removeChild(t))}setTopLeft(e,t){var i;const s=(i=this.input)===null||i===void 0?void 0:i.style;s&&(s.top=`${e}px`,s.left=`${t}px`)}_isBackward(e,t,i){return e&&!i?!this.isFirst:!!(i&&t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING)}}const q={Root:1,Modalizer:2,Mover:3,Groupper:4};class A{constructor(e,t,i,s,o,r){this._element=t,this._instance=new ft(e,t,this,i,s,o,r),this.moveOut=a=>{var n;(n=this._instance)===null||n===void 0||n.moveOut(a)},this.moveOutWithDefaultAction=a=>{var n;(n=this._instance)===null||n===void 0||n.moveOutWithDefaultAction(a)}}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;(t=this._instance)===null||t===void 0||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static getLastPhantomFrom(){const e=A._lastPhantomFrom;return delete A._lastPhantomFrom,e}static moveWithPhantomDummy(e,t,i,s){const r=new le(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(r){const a=t.parentElement;if(a){let n=i&&!s||!i&&s?t.nextElementSibling:t;if(n)if(s){const u=n.previousElementSibling;u&&u.__tabsterDummyContainer&&(n=u)}else n.__tabsterDummyContainer&&(n=n.nextElementSibling);a.insertBefore(r,n),A._lastPhantomFrom=t,e.getWindow().setTimeout(()=>{delete A._lastPhantomFrom},0),z(r)}}}}class dt{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummies=new Map,this._domChanged=t=>{var i;this._changedParents.has(t)||(this._changedParents.add(t),!this._updateDummyInputsTimer&&(this._updateDummyInputsTimer=(i=this._win)===null||i===void 0?void 0:i.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const[s,o]of this._dummies){const r=s.parentElement;(!r||this._changedParents.has(r))&&o()}this._changedParents=new WeakSet},se)))},this._win=e}add(e,t){this._dummies.set(e,t),this.domChanged=this._domChanged}remove(e){const t=this._dummies;t.delete(e),t.size===0&&delete this.domChanged}dispose(){var e;const t=(e=this._win)===null||e===void 0?void 0:e.call(this);this._updateTimer&&(t==null||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(t==null||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummies.clear(),delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=(e=this._win)===null||e===void 0?void 0:e.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+se<=Date.now()){const t=new Map,i=[];for(const s of this._updateQueue)i.push(s(t));this._updateQueue.clear();for(const s of i)s();t.clear()}else this._scheduledUpdatePositions()},se))}}class ft{constructor(e,t,i,s,o,r,a){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(d,h,_)=>{this._onFocus(!0,d,h,_)},this._onFocusOut=(d,h,_)=>{this._onFocus(!1,d,h,_)},this.moveOut=d=>{var h;const _=this._firstDummy,v=this._lastDummy;if(_&&v){const g=_.input,b=v.input,E=(h=this._element)===null||h===void 0?void 0:h.get();if(g&&b&&E){let T;d?(g.tabIndex=0,T=g):(b.tabIndex=0,T=b),T&&z(T)}}},this.moveOutWithDefaultAction=d=>{var h;const _=this._firstDummy,v=this._lastDummy;if(_&&v){const g=_.input,b=v.input,E=(h=this._element)===null||h===void 0?void 0:h.get();if(g&&b&&E){let T;d?!_.isOutside&&this._tabster.focusable.isFocusable(E,!0,!0,!0)?T=E:(_.useDefaultAction=!0,g.tabIndex=0,T=g):(v.useDefaultAction=!0,b.tabIndex=0,T=b),T&&z(T)}}},this.setTabbable=(d,h)=>{var _,v;for(const b of this._wrappers)if(b.manager===d){b.tabbable=h;break}const g=this._getCurrent();if(g){const b=g.tabbable?0:-1;let E=(_=this._firstDummy)===null||_===void 0?void 0:_.input;E&&(E.tabIndex=b),E=(v=this._lastDummy)===null||v===void 0?void 0:v.input,E&&(E.tabIndex=b)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{var d,h,_;delete this._addTimer;const v=(d=this._element)===null||d===void 0?void 0:d.get(),g=(h=this._firstDummy)===null||h===void 0?void 0:h.input,b=(_=this._lastDummy)===null||_===void 0?void 0:_.input;if(!(!v||!g||!b)){if(this._isOutside){const E=v.parentElement;if(E){const T=v.nextElementSibling;T!==b&&E.insertBefore(b,T),v.previousElementSibling!==g&&E.insertBefore(g,v)}}else{v.lastElementChild!==b&&v.appendChild(b);const E=v.firstElementChild;E&&E!==g&&v.insertBefore(g,E)}this._addTransformOffsets()}},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=d=>{var h,_;const v=((h=this._firstDummy)===null||h===void 0?void 0:h.input)||((_=this._lastDummy)===null||_===void 0?void 0:_.input),g=this._transformElements,b=new Set;let E=0,T=0;const w=this._getWindow();for(let p=v;p;p=p.parentElement){let F=d.get(p);if(F===void 0){const R=w.getComputedStyle(p).transform;R&&R!=="none"&&(F={scrollTop:p.scrollTop,scrollLeft:p.scrollLeft}),d.set(p,F||null)}F&&(b.add(p),g.has(p)||p.addEventListener("scroll",this._addTransformOffsets),E+=F.scrollTop,T+=F.scrollLeft)}for(const p of g)b.has(p)||p.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=b,()=>{var p,F;(p=this._firstDummy)===null||p===void 0||p.setTopLeft(E,T),(F=this._lastDummy)===null||F===void 0||F.setTopLeft(E,T)}};const n=t.get();if(!n)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=a;const u=n.__tabsterDummy;if((u||this)._wrappers.push({manager:i,priority:s,tabbable:!0}),u)return u;n.__tabsterDummy=this;const l=o==null?void 0:o.dummyInputsPosition,f=n.tagName;this._isOutside=l?l===Ne.Outside:(r||f==="UL"||f==="OL"||f==="TABLE")&&!(f==="LI"||f==="TD"||f==="TH"),this._firstDummy=new le(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new le(this._getWindow,this._isOutside,{isFirst:!1},t);const m=this._firstDummy.input;m&&e._dummyObserver.add(m,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var i,s,o,r;if((this._wrappers=this._wrappers.filter(n=>n.manager!==e&&!t)).length===0){delete((i=this._element)===null||i===void 0?void 0:i.get()).__tabsterDummy;for(const l of this._transformElements)l.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const n=this._getWindow();this._addTimer&&(n.clearTimeout(this._addTimer),delete this._addTimer);const u=(s=this._firstDummy)===null||s===void 0?void 0:s.input;u&&this._tabster._dummyObserver.remove(u),(o=this._firstDummy)===null||o===void 0||o.dispose(),(r=this._lastDummy)===null||r===void 0||r.dispose()}}_onFocus(e,t,i,s){var o;const r=this._getCurrent();r&&(!t.useDefaultAction||this._callForDefaultAction)&&((o=r.manager.getHandler(e))===null||o===void 0||o(t,i,s))}_getCurrent(){return this._wrappers.sort((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority),this._wrappers[0]}}function ce(c){let e=null;for(let t=c.lastElementChild;t;t=t.lastElementChild)e=t;return e||void 0}function de(c,e){let t=c,i=null;for(;t&&!i;)i=e?t.previousElementSibling:t.nextElementSibling,t=t.parentElement;return i||void 0}function U(c,e,t){const i=document.createEvent("HTMLEvents");return i.initEvent(e,!0,!0),i.details=t,c.dispatchEvent(i),!i.defaultPrevented}function oe(c,e,t,i){const s=c.storageEntry(e,!0);let o=!1;if(!s.aug){if(i===void 0)return o;s.aug={}}if(i===void 0){if(t in s.aug){const r=s.aug[t];delete s.aug[t],r===null?e.removeAttribute(t):e.setAttribute(t,r),o=!0}}else{let r;t in s.aug||(r=e.getAttribute(t)),r!==void 0&&r!==i&&(s.aug[t]=r,i===null?e.removeAttribute(t):e.setAttribute(t,i),o=!0)}return i===void 0&&Object.keys(s.aug).length===0&&(delete s.aug,c.storageEntry(e,!1)),o}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function He(c,e){const t=JSON.stringify(c);return e===!0?t:{[P]:t}}function ht(c,e){for(const t of Object.keys(e)){const i=e[t];i?c[t]=i:delete c[t]}}function _t(c,e,t){let i;if(t){const s=c.getAttribute(P);if(s)try{i=JSON.parse(s)}catch{}}i||(i={}),ht(i,e),Object.keys(i).length>0?c.setAttribute(P,He(i,!0)):c.removeAttribute(P)}class ye extends A{constructor(e,t,i,s){super(e,t,q.Root,s,void 0,!0),this._onDummyInputFocus=o=>{var r;if(o.useDefaultAction)this._setFocused(!1,!0);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const a=this._element.get();if(a){this._setFocused(!0,!0);const n=this._tabster.focusedElement.getFirstOrLastTabbable(o.isFirst,{container:a,ignoreAccessibility:!0});if(n){z(n);return}}(r=o.input)===null||r===void 0||r.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=i}}class mt extends H{constructor(e,t,i,s,o){super(e,t,s),this._isFocused=!1,this._setFocused=(a,n)=>{if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===a)return;const u=this._element.get();u&&(a?(this._isFocused=!0,U(this._tabster.root.eventTarget,"focus",{element:u,fromAdjacent:n})):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{delete this._setFocusedTimer,this._isFocused=!1,U(this._tabster.root.eventTarget,"blur",{element:u,fromAdjacent:n})},0))},this._onFocus=a=>{var n;const u=this._tabster.getWindow();if(this._setTabbableTimer&&(u.clearTimeout(this._setTabbableTimer),delete this._setTabbableTimer),a){const l=D.getTabsterContext(this._tabster,a);if(l&&this._setFocused(l.root.getElement()===this._element.get()),!l||l.uncontrolled||this._tabster.rootDummyInputs){(n=this._dummyManager)===null||n===void 0||n.setTabbable(!1);return}}else this._setFocused(!1);this._setTabbableTimer=u.setTimeout(()=>{var l;delete this._setTabbableTimer,(l=this._dummyManager)===null||l===void 0||l.setTabbable(!0)},0)},this._onDispose=i;const r=e.getWindow;this.uid=G(r,t),this._sys=o,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs(),e.focusedElement.subscribe(this._onFocus),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new ye(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow();this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._setTabbableTimer&&(t.clearTimeout(this._setTabbableTimer),delete this._setTabbableTimer),(e=this._dummyManager)===null||e===void 0||e.dispose(),this._remove()}moveOutWithDefaultAction(e){const t=this._dummyManager;if(t)t.moveOutWithDefaultAction(e);else{const i=this.getElement();i&&ye.moveWithPhantomDummy(this._tabster,i,!0,e)}}_add(){}_remove(){}}class D{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var i;const s=this._win().document,o=s.body;if(o){this._autoRootUnwait(s);const r=this._autoRoot;if(r)return _t(o,{root:r},!0),Pe(this._tabster,o),(i=x(this._tabster,o))===null||i===void 0?void 0:i.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,s.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=i=>{delete this._roots[i.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,this.eventTarget=it(this._win),e.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach(t=>{this._roots[t]&&(this._roots[t].dispose(),delete this._roots[t])}),this.rootById={}}createRoot(e,t,i){const s=new mt(this._tabster,e,this._onRootDispose,t,i);return this._roots[s.id]=s,this._forceDummy&&s.addDummyInputs(),s}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const i=e().__tabsterInstance;return i&&i.root.rootById[t]}static getTabsterContext(e,t,i){i===void 0&&(i={});var s,o,r,a;if(!t.ownerDocument)return;e.drainInitQueue();const n=i.checkRtl;let u,l,f,m,d=!1,h,_,v,g,b=t;const E={};for(;b&&(!u||n);){const w=x(e,b);if(n&&v===void 0){const y=b.dir;y&&(v=y.toLowerCase()==="rtl")}if(!w){b=b.parentElement;continue}const p=b.tagName;(w.uncontrolled||p==="IFRAME"||p==="WEBVIEW")&&(g=b),!m&&(!((s=w.focusable)===null||s===void 0)&&s.excludeFromMover)&&!f&&(d=!0);const F=w.modalizer,R=w.groupper,k=w.mover;!l&&F&&(l=F),!f&&R&&(!l||F)&&(l?(!R.isActive()&&R.getProps().tabbability&&l.userId!==((o=e.modalizer)===null||o===void 0?void 0:o.activeId)&&(l=void 0,f=R),_=R):f=R),!m&&k&&(!l||F)&&(!R||b!==t)&&(m=k,h=!!f&&f!==R),w.root&&(u=w.root),!((r=w.focusable)===null||r===void 0)&&r.ignoreKeydown&&Object.assign(E,w.focusable.ignoreKeydown),b=b.parentElement}if(!u){const w=e.root;w._autoRoot&&!((a=t.ownerDocument)===null||a===void 0)&&a.body&&(u=w._autoRootCreate())}return f&&!m&&(h=!0),u?{root:u,modalizer:l,groupper:f,mover:m,isGroupperFirst:h,modalizerInGroupper:_,isRtl:n?!!v:void 0,uncontrolled:g,isExcludedFromMover:d,ignoreKeydown:w=>!!E[w.key]}:void 0}static getRoot(e,t){var i;for(let s=t;s;s=s.parentElement){const o=(i=x(e,s))===null||i===void 0?void 0:i.root;if(o)return o}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const K=10;class vt{}class bt extends vt{constructor(e,t){super(),this.uid=t.uid,this._tabster=e,this._deloser=t}belongsTo(e){return e===this._deloser}unshift(e){this._deloser.unshift(e)}async focusAvailable(){const e=this._deloser.findAvailable();return e?this._tabster.focusedElement.focus(e):!1}async resetFocus(){const e=this._tabster.getWindow;return Ke(e).resolve(this._deloser.resetFocus())}}class pt{constructor(e,t){this._history=[],this._tabster=e,this.rootUId=t}getLength(){return this._history.length}removeDeloser(e){this._history=this._history.filter(t=>!t.belongsTo(e))}hasDeloser(e){return this._history.some(t=>t.belongsTo(e))}}class gt extends pt{unshiftToDeloser(e,t){let i;for(let s=0;s<this._history.length;s++)if(this._history[s].belongsTo(e)){i=this._history[s],this._history.splice(s,1);break}i||(i=new bt(this._tabster,e)),i.unshift(t),this._history.unshift(i),this._history.splice(K,this._history.length-K)}async focusAvailable(e){let t=!!e;for(const i of this._history)if(e&&i.belongsTo(e)&&(t=!1),!t&&await i.focusAvailable())return!0;return!1}async resetFocus(e){let t=!!e;const i={};for(const s of this._history)e&&s.belongsTo(e)&&(t=!1),!t&&!i[s.uid]&&(i[s.uid]=s);for(const s of Object.keys(i))if(await i[s].resetFocus())return!0;return!1}}class Et{constructor(e){this._history=[],this._tabster=e}dispose(){this._history=[]}process(e){var t;const i=D.getTabsterContext(this._tabster,e),s=i&&i.root.uid,o=je.getDeloser(this._tabster,e);if(!s||!o)return;const r=this.make(s,()=>new gt(this._tabster,s));return(!i||!i.modalizer||!((t=i.modalizer)===null||t===void 0)&&t.isActive())&&r.unshiftToDeloser(o,e),o}make(e,t){let i;for(let s=0;s<this._history.length;s++){const o=this._history[s];if(o.rootUId===e){i=o,this._history.splice(s,1);break}}return i||(i=t()),this._history.unshift(i),this._history.splice(K,this._history.length-K),i}removeDeloser(e){this._history.forEach(t=>{t.removeDeloser(e)}),this._history=this._history.filter(t=>t.getLength()>0)}async focusAvailable(e){let t=!!e;for(const i of this._history)if(e&&i.hasDeloser(e)&&(t=!1),!t&&await i.focusAvailable(e))return!0;return!1}async resetFocus(e){let t=!!e;for(const i of this._history)if(e&&i.hasDeloser(e)&&(t=!1),!t&&await i.resetFocus(e))return!0;return!1}}function we(c,e,t){const i=[],s=/(:|\.|\[|\]|,|=|@)/g,o="\\$1";c.id&&i.push("#"+c.id.replace(s,o)),e!==!1&&c.className&&c.className.split(" ").forEach(n=>{n=n.trim(),n&&i.push("."+n.replace(s,o))});let r=0,a;if(t!==!1&&i.length===0){for(a=c;a;)r++,a=a.previousElementSibling;i.unshift(":nth-child("+r+")")}return i.unshift(c.tagName.toLowerCase()),i.join("")}function Tt(c){if(!J(c.ownerDocument,c))return;const e=[we(c)];let t=c.parentElement;for(;t;){const i=t.tagName==="BODY";if(e.unshift(we(t,!1,!i)),i)break;t=t.parentElement}return e.join(" ")}class Fe extends H{constructor(e,t,i,s){super(e,t,s),this._isActive=!1,this._history=[[]],this._snapshotIndex=0,this.isActive=()=>this._isActive,this.setSnapshot=o=>{this._snapshotIndex=o,this._history.length>o+1&&this._history.splice(o+1,this._history.length-o-1),this._history[o]||(this._history[o]=[])},this.focusFirst=()=>{const o=this._element.get();return!!o&&this._tabster.focusedElement.focusFirst({container:o})},this.focusDefault=()=>{const o=this._element.get();return!!o&&this._tabster.focusedElement.focusDefault(o)},this.resetFocus=()=>{const o=this._element.get();return!!o&&this._tabster.focusedElement.resetFocus(o)},this.clearHistory=o=>{const r=this._element.get();if(!r){this._history[this._snapshotIndex]=[];return}this._history[this._snapshotIndex]=this._history[this._snapshotIndex].filter(a=>{const n=a.get();return n&&o?r.contains(n):!1})},this.uid=G(e.getWindow,t),this._onDispose=i}dispose(){this._remove(),this._onDispose(this),this._isActive=!1,this._snapshotIndex=0,this._props={},this._history=[]}setActive(e){this._isActive=e}getActions(){return{focusDefault:this.focusDefault,focusFirst:this.focusFirst,resetFocus:this.resetFocus,clearHistory:this.clearHistory,setSnapshot:this.setSnapshot,isActive:this.isActive}}unshift(e){let t=this._history[this._snapshotIndex];for(t=this._history[this._snapshotIndex]=t.filter(i=>{const s=i.get();return s&&s!==e}),t.unshift(new L(this._tabster.getWindow,e,Tt(e)));t.length>K;)t.pop()}findAvailable(){const e=this._element.get();if(!e||!this._tabster.focusable.isVisible(e))return null;let t=this._props.restoreFocusOrder,i=null;const s=D.getTabsterContext(this._tabster,e);if(!s)return null;const o=s.root,r=o.getElement();if(!r)return null;if(t===void 0&&(t=o.getProps().restoreFocusOrder),t===S.RootDefault&&(i=this._tabster.focusable.findDefault({container:r})),!i&&t===S.RootFirst&&(i=this._findFirst(r)),i)return i;const a=this._findInHistory(),n=this._tabster.focusable.findDefault({container:e}),u=this._findFirst(e);return a&&t===S.History?a:n&&t===S.DeloserDefault?n:u&&t===S.DeloserFirst?u:n||a||u||null}customFocusLostHandler(e){return U(e,Re,this.getActions())}_findInHistory(){const e=this._history[this._snapshotIndex].slice(0);this.clearHistory(!0);for(let t=0;t<e.length;t++){const i=e[t],s=i.get(),o=this._element.get();if(s&&o&&o.contains(s)){if(this._tabster.focusable.isFocusable(s))return s}else if(!this._props.noSelectorCheck){const r=i.getData();if(r&&o){let a;try{a=o.ownerDocument.querySelectorAll(r)}catch{continue}for(let n=0;n<a.length;n++){const u=a[n];if(u&&this._tabster.focusable.isFocusable(u))return u}}}}return null}_findFirst(e){if(this._tabster.keyboardNavigation.isNavigatingWithKeyboard()){const t=this._tabster.focusable.findFirst({container:e,ignoreUncontrolled:!0,useActiveModalizer:!0});if(t)return t}return null}_remove(){}}class je{constructor(e,t){this._inDeloser=!1,this._isRestoringFocus=!1,this._isPaused=!1,this._onFocus=s=>{if(this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),!s){this._scheduleRestoreFocus();return}const o=this._history.process(s);o?this._activate(o):this._deactivate()},this._onDeloserDispose=s=>{this._history.removeDeloser(s),s.isActive()&&this._scheduleRestoreFocus()},this._tabster=e,this._win=e.getWindow,this._history=new Et(e),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)});const i=t==null?void 0:t.autoDeloser;i&&(this._autoDeloser=i)}dispose(){const e=this._win();this._restoreFocusTimer&&(e.clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),this._autoDeloserInstance&&(this._autoDeloserInstance.dispose(),delete this._autoDeloserInstance,delete this._autoDeloser),this._tabster.focusedElement.unsubscribe(this._onFocus),this._history.dispose(),delete this._curDeloser}createDeloser(e,t){var i;const s=new Fe(this._tabster,e,this._onDeloserDispose,t);return e.contains((i=this._tabster.focusedElement.getFocusedElement())!==null&&i!==void 0?i:null)&&this._activate(s),s}getActions(e){for(let t=e;t;t=t.parentElement){const i=x(this._tabster,t);if(i&&i.deloser)return i.deloser.getActions()}}pause(){this._isPaused=!0,this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0)}resume(e){this._isPaused=!1,e&&this._scheduleRestoreFocus()}_activate(e){const t=this._curDeloser;t!==e&&(this._inDeloser=!0,t==null||t.setActive(!1),e.setActive(!0),this._curDeloser=e)}_deactivate(){var e;this._inDeloser=!1,(e=this._curDeloser)===null||e===void 0||e.setActive(!1),this._curDeloser=void 0}_scheduleRestoreFocus(e){if(this._isPaused||this._isRestoringFocus)return;const t=async()=>{this._restoreFocusTimer=void 0;const i=this._tabster.focusedElement.getLastFocusedElement();if(!e&&(this._isRestoringFocus||!this._inDeloser||i!=null&&i.offsetParent))return;const s=this._curDeloser;if(s){if(i&&s.customFocusLostHandler(i))return;const o=s.findAvailable();if(o&&this._tabster.focusedElement.focus(o))return}this._deactivate(),this._isRestoringFocus=!0,await this._history.focusAvailable(null)||await this._history.resetFocus(null),this._isRestoringFocus=!1};e?t():this._restoreFocusTimer=this._win().setTimeout(t,100)}static getDeloser(e,t){var i;let s;for(let r=t;r;r=r.parentElement){const a=x(e,r);if(a){s||(s=a.root);const n=a.deloser;if(n)return n}}const o=e.deloser&&e.deloser;if(o){if(o._autoDeloserInstance)return o._autoDeloserInstance;const r=o._autoDeloser;if(s&&!o._autoDeloserInstance&&r){const a=(i=t.ownerDocument)===null||i===void 0?void 0:i.body;a&&(o._autoDeloserInstance=new Fe(e,a,e.deloser._onDeloserDispose,r))}return o._autoDeloserInstance}}static getHistory(e){return e._history}static forceRestoreFocus(e){e._scheduleRestoreFocus(!0)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Qe{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,i=t.indexOf(e);i>=0&&t.splice(i,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach(i=>i(e,t))}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const yt=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]"].join(", ");class wt{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=x(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,i,s){return Ge(e,yt)&&(t||e.tabIndex!==-1)?(i||this.isVisible(e))&&(s||this.isAccessible(e)):!1}isVisible(e){if(!e.ownerDocument||e.offsetParent===null&&e.ownerDocument.body!==e)return!1;const t=e.ownerDocument.defaultView;if(!t)return!1;const i=e.ownerDocument.body.getBoundingClientRect();return!(i.width===0&&i.height===0||t.getComputedStyle(e).visibility==="hidden")}isAccessible(e){var t;for(let i=e;i;i=i.parentElement){const s=x(this._tabster,i);if(this._isHidden(i)||!((t=s==null?void 0:s.focusable)===null||t===void 0?void 0:t.ignoreAriaDisabled)&&this._isDisabled(i))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const i=e.getAttribute("aria-hidden");return!!(i&&i.toLowerCase()==="true"&&!(!((t=this._tabster.modalizer)===null||t===void 0)&&t.isAugmented(e)))}findFirst(e){return this.findElement({...e})}findLast(e){return this.findElement({isBackward:!0,...e})}findNext(e){return this.findElement({...e})}findPrev(e){return this.findElement({isBackward:!0,...e})}findDefault(e){return this.findElement({...e,acceptCondition:t=>this._tabster.focusable.isFocusable(t,e.includeProgrammaticallyFocusable)&&!!this.getProps(t).isDefault})||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e){const t=this._findElements(!1,e);return t&&t[0]}_findElements(e,t){var i,s,o;const{container:r,currentElement:a=null,includeProgrammaticallyFocusable:n,useActiveModalizer:u,ignoreUncontrolled:l,ignoreAccessibility:f,modalizerId:m,isBackward:d,onUncontrolled:h,onElement:_}=t,v=[];let{acceptCondition:g}=t;if(!r)return null;g||(g=p=>this._tabster.focusable.isFocusable(p,n,!1,f));const b={container:r,modalizerUserId:m===void 0&&u?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:m||((o=(s=D.getTabsterContext(this._tabster,r))===null||s===void 0?void 0:s.modalizer)===null||o===void 0?void 0:o.userId),from:a||r,isBackward:d,acceptCondition:g,includeProgrammaticallyFocusable:n,ignoreUncontrolled:l,ignoreAccessibility:f,cachedGrouppers:{}},E=fe(r.ownerDocument,r,p=>this._acceptElement(p,b));if(!E)return null;const T=p=>{const F=b.foundElement;return F&&v.push(F),e?F&&(b.found=!1,delete b.foundElement,delete b.fromCtx,b.from=F,_&&!_(F))?!1:!!(F||p):!!(p&&!F)};if(a)E.currentNode=a;else if(d){const p=ce(r);if(!p)return null;if(this._acceptElement(p,b)===NodeFilter.FILTER_ACCEPT&&!T(!0))return v;E.currentNode=p}let w;do w=(d?E.previousNode():E.nextNode())||void 0;while(T());if(!e){const p=b.nextUncontrolled;if(p)return h&&h(p),w?void 0:null}return v.length?v:null}_acceptElement(e,t){var i,s,o,r,a;if(t.found)return NodeFilter.FILTER_ACCEPT;const n=t.container;if(e===n)return NodeFilter.FILTER_SKIP;if(!n.contains(e)||e.__tabsterDummyContainer)return NodeFilter.FILTER_REJECT;let u=t.lastToIgnore;if(u){if(u.contains(e))return NodeFilter.FILTER_REJECT;u=t.lastToIgnore=void 0}const l=t.currentCtx=D.getTabsterContext(this._tabster,e);if(!l)return NodeFilter.FILTER_SKIP;if(t.ignoreUncontrolled){if(Ve(e))return NodeFilter.FILTER_SKIP}else if(l.uncontrolled&&!t.nextUncontrolled&&this._tabster.focusable.isFocusable(e,void 0,!0,!0)&&!l.groupper&&!l.mover&&((i=l.modalizer)===null||i===void 0?void 0:i.userId)===((s=this._tabster.modalizer)===null||s===void 0?void 0:s.activeId))return this.isVisible(l.uncontrolled)&&(t.nextUncontrolled=l.uncontrolled),NodeFilter.FILTER_REJECT;if(e.tagName==="IFRAME"||e.tagName==="WEBVIEW")return((o=l.modalizer)===null||o===void 0?void 0:o.userId)===((r=this._tabster.modalizer)===null||r===void 0?void 0:r.activeId)?(t.found=!0,t.lastToIgnore=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return NodeFilter.FILTER_REJECT;let f,m=t.fromCtx;m||(m=t.fromCtx=D.getTabsterContext(this._tabster,t.from));const d=m==null?void 0:m.mover;let h=l.groupper,_=l.mover;if(f=(a=this._tabster.modalizer)===null||a===void 0?void 0:a.acceptElement(e,t),f===void 0&&(h||_||d)){const v=h==null?void 0:h.getElement(),g=d==null?void 0:d.getElement();let b=_==null?void 0:_.getElement();b&&g&&n.contains(g)&&(!v||!_||g.contains(v))&&(_=d,b=g),v&&(v===n||!n.contains(v))&&(h=void 0),b&&!n.contains(b)&&(_=void 0),h&&_&&(b&&v&&!v.contains(b)?_=void 0:h=void 0),h&&(f=h.acceptElement(e,t)),_&&(f=_.acceptElement(e,t))}return f===void 0&&(f=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),f===NodeFilter.FILTER_ACCEPT&&!t.found&&(t.found=!0,t.foundElement=e),f}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const I={Tab:9,Enter:13,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class M extends Qe{constructor(e,t){super(),this._init=()=>{const i=this._win(),s=i.document;s.addEventListener(be,this._onFocusIn,!0),s.addEventListener("focusout",this._onFocusOut,!0),i.addEventListener("keydown",this._onKeyDown,!0);const o=s.activeElement;o&&o!==s.body&&this._setFocusedElement(o),this.subscribe(this._onChanged)},this._onFocusIn=i=>{this._setFocusedElement(i.target,i.details.relatedTarget,i.details.isFocusedProgrammatically)},this._onFocusOut=i=>{this._setFocusedElement(void 0,i.relatedTarget)},this._validateFocusedElement=i=>{},this._onKeyDown=i=>{var s,o,r,a,n,u;if(i.keyCode!==I.Tab||i.ctrlKey)return;const l=this.getVal();if(!l||!l.ownerDocument||l.contentEditable==="true")return;const f=this._tabster,m=f.controlTab,d=D.getTabsterContext(f,l);if(!d||d.ignoreKeydown(i))return;const h=i.shiftKey,_=M.findNextTabbable(f,d,void 0,l,h,void 0,!0);let v;if(_){let g=_.uncontrolled;if(g){const b=d.isGroupperFirst;let E=!1;if(b!==void 0){const T=(s=d.groupper)===null||s===void 0?void 0:s.getElement(),w=(o=d.mover)===null||o===void 0?void 0:o.getElement();let p;b&&T&&g.contains(T)?p=T:!b&&w&&g.contains(w)&&(p=w),p&&(g=p,E=!0)}g&&d.uncontrolled!==g&&A.moveWithPhantomDummy(this._tabster,g,E,h);return}v=_.element}if(v){const g=()=>{i.preventDefault(),i.stopImmediatePropagation()};if(m)v.tagName!=="IFRAME"&&(g(),z(v));else{const b=_==null?void 0:_.lastMoverOrGroupper;let E=_==null?void 0:_.outOfDOMOrder;if(!E&&l.compareDocumentPosition(v)&(h?document.DOCUMENT_POSITION_FOLLOWING:document.DOCUMENT_POSITION_PRECEDING)&&(E=!0),E)g(),z(v);else if(b)(r=b.dummyManager)===null||r===void 0||r.moveOutWithDefaultAction(h);else if(d.modalizer){const T=D.getTabsterContext(f,v);(!T||d.root.uid!==T.root.uid||!(!((a=T.modalizer)===null||a===void 0)&&a.isActive()))&&d.modalizer.triggerFocusEvent(ke,!0)?g():!((n=d.modalizer.getElement())===null||n===void 0)&&n.contains(v)||(g(),(u=d.modalizer.dummyManager)===null||u===void 0||u.moveOut(h))}}}else d.root.moveOutWithDefaultAction(h)},this._onChanged=(i,s)=>{var o,r;if(i)U(i,Oe,s);else{const a=(o=this._lastVal)===null||o===void 0?void 0:o.get();if(a){const n={...s},u=D.getTabsterContext(this._tabster,a),l=(r=u==null?void 0:u.modalizer)===null||r===void 0?void 0:r.userId;l&&(n.modalizerId=l),U(a,Ae,n)}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win();e.document.removeEventListener(be,this._onFocusIn,!0),e.document.removeEventListener("focusout",this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged),delete M._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var i,s;let o=M._lastResetElement,r=o&&o.get();r&&t.contains(r)&&delete M._lastResetElement,r=(s=(i=e._nextVal)===null||i===void 0?void 0:i.element)===null||s===void 0?void 0:s.get(),r&&t.contains(r)&&delete e._nextVal,o=e._lastVal,r=o&&o.get(),r&&t.contains(r)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=(e=this._lastVal)===null||e===void 0?void 0:e.get();return(!t||t&&!J(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,i){return this._tabster.focusable.isFocusable(e,t,!1,i)?(e.focus(),!0):!1}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return t?(this._tabster.focusedElement.focus(t),!0):!1}getFirstOrLastTabbable(e,t){const i=this._tabster.focusable,{container:s,ignoreAccessibility:o}=t;let r,a;if(s){const n=D.getTabsterContext(this._tabster,s);if(n){let u=M.findNextTabbable(this._tabster,n,s,void 0,!e,void 0,o);if(u)for(a=u.element,r=u.uncontrolled;!a&&r;)i.isFocusable(r,!1,!0,!0)?a=r:a=i[e?"findFirst":"findLast"]({container:r,ignoreUncontrolled:!0,ignoreAccessibility:o,useActiveModalizer:!0}),a||(u=M.findNextTabbable(this._tabster,n,r,void 0,!e,void 0,o),u&&(a=u.element,r=u.uncontrolled))}}return a&&!(s!=null&&s.contains(a))&&(a=void 0),a||void 0}_focusFirstOrLast(e,t){const i=this.getFirstOrLastTabbable(e,t);return i?(this.focus(i,!1,!0),!0):!1}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),i=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),M._lastResetElement=new L(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",i)}return!0}_setOrRemoveAttribute(e,t,i){i===null?e.removeAttribute(t):e.setAttribute(t,i)}_setFocusedElement(e,t,i){var s,o;if(this._tabster._noop)return;const r={relatedTarget:t};if(e){const n=(s=M._lastResetElement)===null||s===void 0?void 0:s.get();if(M._lastResetElement=void 0,n===e||Ve(e))return;r.isFocusedProgrammatically=i;const u=D.getTabsterContext(this._tabster,e),l=(o=u==null?void 0:u.modalizer)===null||o===void 0?void 0:o.userId;l&&(r.modalizerId=l)}const a=this._nextVal={element:e?new L(this._win,e):void 0,details:r};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===a&&this.setVal(e,r),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new L(this._win,e))}static findNextTabbable(e,t,i,s,o,r,a){const n=i||t.root.getElement();if(!n)return null;let u=null;const l=M._isTabbingTimer,f=e.getWindow();l&&f.clearTimeout(l),M.isTabbing=!0,M._isTabbingTimer=f.setTimeout(()=>{delete M._isTabbingTimer,M.isTabbing=!1},0);const m=(b,E)=>{u=b.findNextTabbable(E||s,o,r,a);const T=u==null?void 0:u.lastMoverOrGroupper;if(T&&!(u!=null&&u.element)&&!(u!=null&&u.uncontrolled)){const w=T.getElement(),p=w==null?void 0:w.parentElement,F=p&&D.getTabsterContext(e,p);if(F){const k=F.isGroupperFirst?F.groupper:F.mover;if(k){const y=o?w:ce(w);m(k,y),u&&(u.outOfDOMOrder=!0)}}}},d=t.modalizer,h=t.groupper,_=t.mover;if(h&&_)m(t.isGroupperFirst?h:_);else if(h)m(h);else if(_)m(_);else if(d)m(d);else{let b;const E=w=>{b=w},T=o?e.focusable.findPrev({container:n,currentElement:s,onUncontrolled:E,ignoreUncontrolled:r,ignoreAccessibility:a,useActiveModalizer:!0}):e.focusable.findNext({container:n,currentElement:s,onUncontrolled:E,ignoreUncontrolled:r,ignoreAccessibility:a,useActiveModalizer:!0});u={element:b?void 0:T,uncontrolled:b}}const v=u==null?void 0:u.lastMoverOrGroupper,g=v==null?void 0:v.getElement();if(g){u=null;const b=de(g,o);if(b){const E=D.getTabsterContext(e,b,{checkRtl:!0});if(E){let T=de(b,!o);T&&(o||(T=ce(T)||T),u=M.findNextTabbable(e,E,n,T,o,r,a),u&&!u.lastMoverOrGroupper&&(u.lastMoverOrGroupper=v))}}}return u}}M.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ft extends A{constructor(e,t,i,s){super(i,e,q.Groupper,s,!0),this._setHandlers((o,r,a)=>{var n,u;const l=e.get(),f=o.input;if(l&&f){const m=D.getTabsterContext(i,f);if(m){let d;d=(n=t.findNextTabbable(a||void 0,r,!0,!0))===null||n===void 0?void 0:n.element,d||(d=(u=M.findNextTabbable(i,m,void 0,o.isOutside?f:de(l,!r),r,!0,!0))===null||u===void 0?void 0:u.element),d&&z(d)}}})}}class It extends H{constructor(e,t,i,s,o){super(e,t,s),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=i,e.controlTab||(this.dummyManager=new Ft(this._element,this,e,o))}dispose(){var e;this._onDispose(this),this._element.get(),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this._first}findNextTabbable(e,t,i,s){var o;const r=this.getElement();if(!r)return null;const a=((o=e==null?void 0:e.__tabsterDummyContainer)===null||o===void 0?void 0:o.get())===r;if(!this._shouldTabInside&&e&&r.contains(e)&&!a)return{element:void 0,lastMoverOrGroupper:this};const n=this.getFirst(!0);if(!e||!r.contains(e)||a)return{element:n,lastMoverOrGroupper:n?void 0:this};const u=this._tabster;let l=null,f;const m=d=>{f=d};return this._shouldTabInside&&n&&(l=t?u.focusable.findPrev({container:r,currentElement:e,onUncontrolled:m,ignoreUncontrolled:i,ignoreAccessibility:s,useActiveModalizer:!0}):u.focusable.findNext({container:r,currentElement:e,onUncontrolled:m,ignoreUncontrolled:i,ignoreAccessibility:s,useActiveModalizer:!0}),!f&&!l&&this._props.tabbability===ze.LimitedTrapFocus&&(l=t?u.focusable.findLast({container:r,ignoreUncontrolled:!0,ignoreAccessibility:s,useActiveModalizer:!0}):u.focusable.findFirst({container:r,ignoreUncontrolled:!0,ignoreAccessibility:s,useActiveModalizer:!0}))),{element:l,uncontrolled:f,lastMoverOrGroupper:l||f?void 0:this}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var t;const i=this.getElement()||null;let s=!0;for(let r=i==null?void 0:i.parentElement;r;r=r.parentElement){const a=(t=x(this._tabster,r))===null||t===void 0?void 0:t.groupper;a&&(a._shouldTabInside||(s=!1))}let o=s?this._props.tabbability?this._shouldTabInside:!1:void 0;if(o&&e){const r=this._tabster.focusedElement.getFocusedElement();r&&(o=r!==this.getFirst(!0))}return o}getFirst(e){var t;const i=this.getElement();let s;if(i){if(e&&this._tabster.focusable.isFocusable(i))return i;s=(t=this._first)===null||t===void 0?void 0:t.get(),s||(s=this._tabster.focusable.findFirst({container:i,ignoreUncontrolled:!0,useActiveModalizer:!0})||void 0,s&&this.setFirst(s))}return s}setFirst(e){e?this._first=new L(this._tabster.getWindow,e):delete this._first}acceptElement(e,t){var i;const s=t.cachedGrouppers,o=(i=this.getElement())===null||i===void 0?void 0:i.parentElement,r=o&&D.getTabsterContext(this._tabster,o),a=r==null?void 0:r.groupper,n=r!=null&&r.isGroupperFirst?a:void 0;let u;const l=d=>{let h=s[d.id],_;return h?_=h.isActive:(_=this.isActive(!0),h=s[d.id]={isActive:_}),_};if(n&&(u=n.getElement(),!l(n)&&u&&t.container!==u&&t.container.contains(u)))return NodeFilter.FILTER_REJECT;const f=l(this),m=this.getElement();if(m&&f!==!0){if(m===e&&a&&(u||(u=a.getElement()),u&&!l(a)&&t.container.contains(u)&&u!==t.container)||m!==e&&m.contains(e))return NodeFilter.FILTER_REJECT;const d=s[this.id];let h;if("first"in d?h=d.first:h=d.first=this.getFirst(!0),h&&t.acceptCondition(h))return t.lastToIgnore=m,h!==t.from?(t.found=!0,t.foundElement=h,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class Dt{constructor(e,t){this._current={},this._grouppers={},this._init=()=>{const i=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus),i.document.addEventListener("mousedown",this._onMouseDown,!0),i.addEventListener("keydown",this._onKeyDown,!0)},this._onGroupperDispose=i=>{delete this._grouppers[i.id]},this._onFocus=i=>{i&&this._updateCurrent(i,!0,!0)},this._onMouseDown=i=>{i.target&&this._updateCurrent(i.target,!0)},this._onKeyDown=i=>{if(i.keyCode!==I.Enter&&i.keyCode!==I.Esc||i.ctrlKey||i.altKey||i.shiftKey||i.metaKey)return;const s=this._tabster.focusedElement.getFocusedElement();s&&this.handleKeyPress(s,i)},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){const e=this._win();this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._grouppers).forEach(t=>{this._grouppers[t]&&(this._grouppers[t].dispose(),delete this._grouppers[t])})}createGroupper(e,t,i){const s=new It(this._tabster,e,this._onGroupperDispose,t,i);this._grouppers[s.id]=s;const o=this._tabster.focusedElement.getFocusedElement();return o&&e.contains(o)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,o===this._tabster.focusedElement.getFocusedElement()&&this._updateCurrent(o,!0,!0)},0)),s}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e,t,i){var s;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const o={};let r=!0;for(let a=e;a;a=a.parentElement){const n=(s=x(this._tabster,a))===null||s===void 0?void 0:s.groupper;if(n){if(o[n.id]=!0,r&&i&&a!==e&&(r=!1),t||!r){this._current[n.id]=n;const u=n.isActive()||e!==a&&(!n.getProps().delegated||n.getFirst(!1)!==e);n.makeTabbable(u)}r=!1}}for(const a of Object.keys(this._current)){const n=this._current[a];n.id in o||(n.makeTabbable(!1),n.setFirst(void 0),delete this._current[a])}}handleKeyPress(e,t,i){var s;const o=this._tabster,r=D.getTabsterContext(o,e),a=r==null?void 0:r.modalizerInGroupper;let n=(r==null?void 0:r.groupper)||a;if(r&&n){if(r.ignoreKeydown(t))return;let u;const l=n.getElement();if(t.keyCode===I.Enter)l&&(e===l||n.getProps().delegated&&e===n.getFirst(!1))&&(u=o.focusable.findNext({container:l,currentElement:e,useActiveModalizer:!0}));else if(t.keyCode===I.Esc){if(l&&l.contains(e))if(e!==l||i)u=n.getFirst(!0);else{const f=l.parentElement,m=f?D.getTabsterContext(o,f):void 0;n=m==null?void 0:m.groupper,u=n==null?void 0:n.getFirst(!0)}n&&(n.makeTabbable(!1),a&&((s=o.modalizer)===null||s===void 0||s.setActive(void 0)))}u&&(t.preventDefault(),t.stopImmediatePropagation(),u.focus())}}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ct extends Qe{constructor(e){super(),this._onChange=t=>{this.setVal(t,void 0)},this._keyborg=Je(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),qe(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;(t=this._keyborg)===null||t===void 0||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(!((e=this._keyborg)===null||e===void 0)&&e.isNavigatingWithKeyboard())}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let Rt=0;const re="aria-hidden";class Mt extends A{constructor(e,t,i){super(t,e,q.Modalizer,i),this._setHandlers((s,o)=>{var r,a,n;const u=e.get(),l=u&&((r=D.getRoot(t,u))===null||r===void 0?void 0:r.getElement()),f=s.input;let m;if(l&&f){const d=(a=f.__tabsterDummyContainer)===null||a===void 0?void 0:a.get(),h=D.getTabsterContext(t,d||f);h&&(m=(n=M.findNextTabbable(t,h,l,f,o,!0,!0))===null||n===void 0?void 0:n.element),m&&z(m)}})}}class xt extends H{constructor(e,t,i,s,o,r){super(e,t,s),this._wasFocused=0,this.userId=s.id,this._onDispose=i,this._activeElements=r,e.controlTab||(this.dummyManager=new Mt(this._element,e,o))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const i=this._activeElements,s=i.map(o=>o.deref()).indexOf(t);e?s<0&&i.push(new WeakRef(t)):s>=0&&i.splice(s,1)}this.triggerFocusEvent(e?Me:xe)}}focused(e){return e||(this._wasFocused=++Rt),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),(e=this.dummyManager)===null||e===void 0||e.dispose(),this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){var t;return!!(!((t=this.getElement())===null||t===void 0)&&t.contains(e))}findNextTabbable(e,t,i,s){var o,r;if(!this.getElement())return null;const n=this._tabster;let u=null,l;const f=d=>{l=d},m=e&&((o=D.getRoot(n,e))===null||o===void 0?void 0:o.getElement());return m&&(u=n.focusable[t?"findPrev":"findNext"]({container:m,currentElement:e,onUncontrolled:f,ignoreUncontrolled:i,ignoreAccessibility:s,useActiveModalizer:!0}),!l&&!u&&this._props.isTrapped&&(!((r=n.modalizer)===null||r===void 0)&&r.activeId)&&(u=n.focusable[t?"findLast":"findFirst"]({container:m,ignoreUncontrolled:!0,ignoreAccessibility:s,useActiveModalizer:!0}))),{element:u,uncontrolled:l}}triggerFocusEvent(e,t){const i=this.getElement();let s=!1;if(i){const o=t?this._activeElements.map(r=>r.deref()):[i];for(const r of o)r&&!U(r,e,{id:this.userId,element:i,eventName:e})&&(s=!0)}return s}_remove(){}}class kt{constructor(e){this._onModalizerDispose=i=>{const s=i.id,o=i.userId,r=this._parts[o];delete this._modalizers[s],r&&(delete r[s],Object.keys(r).length===0&&(delete this._parts[o],this.activeId===o&&this.setActive(void 0)))},this._onKeyDown=i=>{var s;if(i.keyCode!==I.Esc)return;const o=this._tabster,r=o.focusedElement.getFocusedElement();if(r){const a=D.getTabsterContext(o,r),n=a==null?void 0:a.modalizer;if(a&&!a.groupper&&(n!=null&&n.isActive())&&!a.ignoreKeydown(i)){const u=n.userId;if(u){const l=this._parts[u];if(l){const f=Object.keys(l).map(m=>{var d;const h=l[m],_=h.getElement();let v;return _&&(v=(d=x(this._tabster,_))===null||d===void 0?void 0:d.groupper),h&&_&&v?{el:_,focusedSince:h.focused(!0)}:{focusedSince:0}}).filter(m=>m.focusedSince>0).sort((m,d)=>m.focusedSince>d.focusedSince?-1:m.focusedSince<d.focusedSince?1:0);if(f.length){const m=f[0].el;m&&((s=o.groupper)===null||s===void 0||s.handleKeyPress(m,i,!0))}}}}}},this._onFocus=(i,s)=>{var o,r;const a=i&&D.getTabsterContext(this._tabster,i);if(!a||!i)return;const n=this._augMap;for(let l=i;l;l=l.parentElement)n.has(l)&&(n.delete(l),oe(this._tabster,l,re));const u=a.modalizer;if((r=u||((o=x(this._tabster,i))===null||o===void 0?void 0:o.modalizer))===null||r===void 0||r.focused(),(u==null?void 0:u.userId)===this.activeId){this.currentIsOthersAccessible=u==null?void 0:u.getProps().isOthersAccessible;return}if(s.isFocusedProgrammatically||this.currentIsOthersAccessible||u!=null&&u.getProps().isAlwaysAccessible)this.setActive(u);else{const l=this._win();l.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=l.setTimeout(()=>this._restoreModalizerFocus(i),100)}},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach(t=>{this._modalizers[t]&&(this._modalizers[t].dispose(),delete this._modalizers[t])}),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,i){var s;const o=new xt(this._tabster,e,this._onModalizerDispose,t,i,this.activeElements),r=o.id,a=t.id;this._modalizers[r]=o;let n=this._parts[a];return n||(n=this._parts[a]={}),n[r]=o,e.contains((s=this._tabster.focusedElement.getFocusedElement())!==null&&s!==void 0?s:null)&&(a!==this.activeId?this.setActive(o):o.makeActive(!0)),o}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout(()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()},250))}setActive(e){const t=e==null?void 0:e.userId,i=this.activeId;if(i!==t){if(this.activeId=t,i){const s=this._parts[i];if(s)for(const o of Object.keys(s))s[o].makeActive(!1)}if(t){const s=this._parts[t];if(s)for(const o of Object.keys(s))s[o].makeActive(!0)}this.currentIsOthersAccessible=e==null?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate()}}focus(e,t,i){const s=D.getTabsterContext(this._tabster,e),o=s==null?void 0:s.modalizer;if(o){this.setActive(o);const r=o.getProps(),a=o.getElement();if(a){if(t===void 0&&(t=r.isNoFocusFirst),!t&&this._tabster.keyboardNavigation.isNavigatingWithKeyboard()&&this._tabster.focusedElement.focusFirst({container:a})||(i===void 0&&(i=r.isNoFocusDefault),!i&&this._tabster.focusedElement.focusDefault(a)))return!0;this._tabster.focusedElement.resetFocus(a)}}return!1}acceptElement(e,t){var i;const s=t.modalizerUserId,o=(i=t.currentCtx)===null||i===void 0?void 0:i.modalizer;if(s)for(const r of this.activeElements){const a=r.deref();if(a&&(e.contains(a)||a===e))return NodeFilter.FILTER_SKIP}return s===(o==null?void 0:o.userId)||!s&&(o!=null&&o.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP}_hiddenUpdate(){var e;const t=this._tabster,i=t.getWindow().document.body,s=this.activeId,o=this._parts,r=[],a=[],n=[];for(const _ of Object.keys(o)){const v=o[_];for(const g of Object.keys(v)){const b=v[g],E=b.getElement(),w=b.getProps().isAlwaysAccessible;E&&(_===s?this.currentIsOthersAccessible||r.push(E):w?n.push(E):a.push(E))}}const u=this._augMap,l=r.length>0?[...r,...n]:void 0,f=[],m=new WeakMap,d=(_,v)=>{const g=_.tagName;if(g==="SCRIPT"||g==="STYLE")return;let b=!1;u.has(_)?v?b=!0:(u.delete(_),oe(t,_,re)):v&&oe(t,_,re,"true")&&(u.set(_,!0),b=!0),b&&(f.push(new WeakRef(_)),m.set(_,!0))},h=_=>{for(let v=_.firstElementChild;v;v=v.nextElementSibling){let g=!1,b=!1;if(l){for(const E of l){if(v===E){g=!0;break}if(v.contains(E)){b=!0;break}}b?h(v):g||d(v,!0)}else d(v,!1)}};l||n.forEach(_=>d(_,!1)),a.forEach(_=>d(_,!0)),i&&h(i),(e=this._aug)===null||e===void 0||e.map(_=>_.deref()).forEach(_=>{_&&!m.get(_)&&d(_,!1)}),this._aug=f,this._augMap=m}_restoreModalizerFocus(e){const t=e==null?void 0:e.ownerDocument;if(!e||!t)return;const i=D.getTabsterContext(this._tabster,e),s=i==null?void 0:i.modalizer,o=this.activeId;if(!s&&!o||s&&o===s.userId)return;const r=i==null?void 0:i.root.getElement();if(r){let a=this._tabster.focusable.findFirst({container:r,ignoreUncontrolled:!0,useActiveModalizer:!0});if(a){if(e.compareDocumentPosition(a)&document.DOCUMENT_POSITION_PRECEDING&&(a=this._tabster.focusable.findLast({container:r,ignoreUncontrolled:!0,useActiveModalizer:!0}),!a))throw new Error("Something went wrong.");this._tabster.focusedElement.focus(a);return}}e.blur()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Ot=["input","textarea","*[contenteditable]"].join(", ");class At extends A{constructor(e,t,i,s){super(t,e,q.Mover,s),this._onFocusDummyInput=o=>{var r,a;const n=this._element.get(),u=o.input;if(n&&u){const l=D.getTabsterContext(this._tabster,n);let f;l&&(f=(r=M.findNextTabbable(this._tabster,l,void 0,u,!o.isFirst,!0))===null||r===void 0?void 0:r.element);const m=(a=this._getMemorized())===null||a===void 0?void 0:a.get();m&&(f=m),f&&z(f)}},this._tabster=t,this._getMemorized=i,this._setHandlers(this._onFocusDummyInput)}}const ne=1,Ie=2,De=3;class zt extends H{constructor(e,t,i,s,o){var r;super(e,t,s),this._visible={},this._onIntersection=n=>{for(const u of n){const l=u.target,f=G(this._win,l);let m,d=this._fullyVisible;if(u.intersectionRatio>=.25?(m=u.intersectionRatio>=.75?N.Visible:N.PartiallyVisible,m===N.Visible&&(d=f)):m=N.Invisible,this._visible[f]!==m){m===void 0?(delete this._visible[f],d===f&&delete this._fullyVisible):(this._visible[f]=m,this._fullyVisible=d);const h=this.getState(l);h&&U(l,ae,h)}}},this._win=e.getWindow,this.visibilityTolerance=(r=s.visibilityTolerance)!==null&&r!==void 0?r:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=i;const a=()=>s.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new At(this._element,e,a,o))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),(e=this.dummyManager)===null||e===void 0||e.dispose()}setCurrent(e){e?this._current=new L(this._win,e):this._current=void 0,(this._props.trackState||this._props.visibilityAware)&&!this._setCurrentTimer&&(this._setCurrentTimer=this._win().setTimeout(()=>{var t;delete this._setCurrentTimer;const i=[];this._current!==this._prevCurrent&&(i.push(this._current),i.push(this._prevCurrent),this._prevCurrent=this._current);for(const s of i){const o=s==null?void 0:s.get();if(o&&((t=this._allElements)===null||t===void 0?void 0:t.get(o))===this){const r=this._props;if(o&&(r.visibilityAware!==void 0||r.trackState)){const a=this.getState(o);a&&U(o,ae,a)}}}}))}getCurrent(){var e;return((e=this._current)===null||e===void 0?void 0:e.get())||null}findNextTabbable(e,t,i,s){var o;const r=this.getElement(),a=r&&((o=e==null?void 0:e.__tabsterDummyContainer)===null||o===void 0?void 0:o.get())===r;if(!r)return null;const u=this._tabster.focusable;let l=null,f;const m=d=>{f=d};return(this._props.tabbable||a||e&&!r.contains(e))&&(l=t?u.findPrev({currentElement:e,container:r,onUncontrolled:m,ignoreUncontrolled:i,ignoreAccessibility:s,useActiveModalizer:!0}):u.findNext({currentElement:e,container:r,onUncontrolled:m,ignoreUncontrolled:i,ignoreAccessibility:s,useActiveModalizer:!0})),{element:l,uncontrolled:f,lastMoverOrGroupper:l||f?void 0:this}}acceptElement(e,t){var i,s,o;if(!M.isTabbing)return!((i=t.currentCtx)===null||i===void 0)&&i.isExcludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:r,visibilityAware:a,hasDefault:n=!0}=this._props,u=this.getElement();if(u&&(r||a||n)&&(!u.contains(t.from)||((s=t.from.__tabsterDummyContainer)===null||s===void 0?void 0:s.get())===u)){let l;if(r){const f=(o=this._current)===null||o===void 0?void 0:o.get();f&&t.acceptCondition(f)&&(l=f)}if(!l&&n&&(l=this._tabster.focusable.findDefault({container:u,ignoreUncontrolled:!0,useActiveModalizer:!0})),!l&&a&&(l=this._tabster.focusable.findElement({container:u,ignoreUncontrolled:!0,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:f=>{var m;const d=G(this._win,f),h=this._visible[d];return u!==f&&!!(!((m=this._allElements)===null||m===void 0)&&m.get(f))&&t.acceptCondition(f)&&(h===N.Visible||h===N.PartiallyVisible&&(a===N.PartiallyVisible||!this._fullyVisible))}})),l)return t.found=!0,t.foundElement=l,t.lastToIgnore=u,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||typeof MutationObserver>"u")return;const t=this._win(),i=this._allElements=new WeakMap,s=this._tabster.focusable;let o=this._updateQueue=[];const r=new MutationObserver(d=>{for(const h of d){const _=h.target,v=h.removedNodes,g=h.addedNodes;if(h.type==="attributes")h.attributeName==="tabindex"&&o.push({element:_,type:Ie});else{for(let b=0;b<v.length;b++)o.push({element:v[b],type:De});for(let b=0;b<g.length;b++)o.push({element:g[b],type:ne})}}f()}),a=(d,h)=>{var _,v;const g=i.get(d);g&&h&&((_=this._intersectionObserver)===null||_===void 0||_.unobserve(d),i.delete(d)),!g&&!h&&(i.set(d,this),(v=this._intersectionObserver)===null||v===void 0||v.observe(d))},n=d=>{const h=s.isFocusable(d);i.get(d)?h||a(d,!0):h&&a(d)},u=d=>{const{mover:h}=m(d);if(h&&h!==this)if(h.getElement()===d&&s.isFocusable(d))a(d);else return;const _=fe(t.document,d,v=>{const{mover:g,groupper:b}=m(v);if(g&&g!==this)return NodeFilter.FILTER_REJECT;const E=b==null?void 0:b.getFirst(!0);return b&&b.getElement()!==v&&E&&E!==v?NodeFilter.FILTER_REJECT:(s.isFocusable(v)&&a(v),NodeFilter.FILTER_SKIP)});if(_)for(_.currentNode=d;_.nextNode(););},l=d=>{i.get(d)&&a(d,!0);for(let _=d.firstElementChild;_;_=_.nextElementSibling)l(_)},f=()=>{!this._updateTimer&&o.length&&(this._updateTimer=t.setTimeout(()=>{delete this._updateTimer;for(const{element:d,type:h}of o)switch(h){case Ie:n(d);break;case ne:u(d);break;case De:l(d);break}o=this._updateQueue=[]},0))},m=d=>{const h={};for(let _=d;_;_=_.parentElement){const v=x(this._tabster,_);if(v&&(v.groupper&&!h.groupper&&(h.groupper=v.groupper),v.mover)){h.mover=v.mover;break}}return h};o.push({element:e,type:ne}),f(),r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{r.disconnect()}}getState(e){const t=G(this._win,e);if(t in this._visible){const i=this._visible[t]||N.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:i}}}}function Nt(c,e,t,i,s,o,r,a){const n=t<s?s-t:r<c?c-r:0,u=i<o?o-i:a<e?e-a:0;return n===0?u:u===0?n:Math.sqrt(n*n+u*u)}class Pt{constructor(e,t){this._init=()=>{this._win().addEventListener("keydown",this._onKeyDown,!0),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=i=>{delete this._movers[i.id]},this._onFocus=i=>{var s;for(let o=i;o;o=o.parentElement){const r=(s=x(this._tabster,o))===null||s===void 0?void 0:s.mover;if(r){r.setCurrent(i);break}}},this._onKeyDown=async i=>{var s,o,r,a;this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(s=this._ignoredInputResolve)===null||s===void 0||s.call(this,!1);let n=i.keyCode;if(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey)return;switch(n){case I.Down:case I.Right:case I.Up:case I.Left:case I.PageDown:case I.PageUp:case I.Home:case I.End:break;default:return}const u=this._tabster,l=u.focusedElement.getFocusedElement();if(!l||await this._isIgnoredInput(l,n))return;const f=D.getTabsterContext(u,l,{checkRtl:!0});if(!f||!f.mover||f.isExcludedFromMover||f.ignoreKeydown(i))return;const m=f.mover,d=m.getElement();if(f.isGroupperFirst){const y=f.groupper;if(y&&!y.isActive(!0)){for(let C=(o=y.getElement())===null||o===void 0?void 0:o.parentElement;C&&C!==d;C=C.parentElement)if(!((a=(r=x(u,C))===null||r===void 0?void 0:r.groupper)===null||a===void 0)&&a.isActive(!0))return}else return}if(!d)return;const h=u.focusable,_=m.getProps(),v=_.direction||B.Both,g=v===B.Both,b=g||v===B.Vertical,E=g||v===B.Horizontal,T=v===B.Grid,w=_.cyclic;let p,F,R=0,k=0;if(T&&(F=l.getBoundingClientRect(),R=Math.ceil(F.left),k=Math.floor(F.right)),f.isRtl&&(n===I.Right?n=I.Left:n===I.Left&&(n=I.Right)),n===I.Down&&b||n===I.Right&&(E||T))if(p=h.findNext({currentElement:l,container:d,useActiveModalizer:!0}),p&&T){const y=Math.ceil(p.getBoundingClientRect().left);k>y&&(p=void 0)}else!p&&w&&(p=h.findFirst({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0}));else if(n===I.Up&&b||n===I.Left&&(E||T))p=h.findPrev({currentElement:l,container:d,useActiveModalizer:!0}),p&&T?Math.floor(p.getBoundingClientRect().right)>R&&(p=void 0):!p&&w&&(p=h.findLast({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0}));else if(n===I.Home)T?h.findElement({container:d,currentElement:l,ignoreUncontrolled:!0,useActiveModalizer:!0,isBackward:!0,acceptCondition:y=>{var C;if(!h.isFocusable(y))return!1;const O=Math.ceil((C=y.getBoundingClientRect().left)!==null&&C!==void 0?C:0);return y!==l&&R<=O?!0:(p=y,!1)}}):p=h.findFirst({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0});else if(n===I.End)T?h.findElement({container:d,currentElement:l,ignoreUncontrolled:!0,useActiveModalizer:!0,acceptCondition:y=>{var C;if(!h.isFocusable(y))return!1;const O=Math.ceil((C=y.getBoundingClientRect().left)!==null&&C!==void 0?C:0);return y!==l&&R>=O?!0:(p=y,!1)}}):p=h.findLast({container:d,ignoreUncontrolled:!0,useActiveModalizer:!0});else if(n===I.PageUp){if(h.findElement({currentElement:l,container:d,useActiveModalizer:!0,isBackward:!0,acceptCondition:y=>h.isFocusable(y)?ge(this._win,y,m.visibilityTolerance)?(p=y,!1):!0:!1}),T&&p){const y=Math.ceil(p.getBoundingClientRect().left);h.findElement({currentElement:p,container:d,useActiveModalizer:!0,acceptCondition:C=>{if(!h.isFocusable(C))return!1;const O=Math.ceil(C.getBoundingClientRect().left);return R<O||y>=O?!0:(p=C,!1)}})}p&&Ee(this._win,p,!1)}else if(n===I.PageDown){if(h.findElement({currentElement:l,container:d,useActiveModalizer:!0,acceptCondition:y=>h.isFocusable(y)?ge(this._win,y,m.visibilityTolerance)?(p=y,!1):!0:!1}),T&&p){const y=Math.ceil(p.getBoundingClientRect().left);h.findElement({currentElement:p,container:d,useActiveModalizer:!0,isBackward:!0,acceptCondition:C=>{if(!h.isFocusable(C))return!1;const O=Math.ceil(C.getBoundingClientRect().left);return R>O||y<=O?!0:(p=C,!1)}})}p&&Ee(this._win,p,!0)}else if(T){const y=n===I.Up,C=R,O=Math.ceil(F.top),X=k,he=Math.floor(F.bottom);let $,Y,j=0;h.findAll({container:d,currentElement:l,isBackward:y,onElement:Z=>{const Q=Z.getBoundingClientRect(),ee=Math.ceil(Q.left),_e=Math.ceil(Q.top),te=Math.floor(Q.right),me=Math.floor(Q.bottom);if(y&&O<me||!y&&he>_e)return!0;const ie=Math.ceil(Math.min(X,te))-Math.floor(Math.max(C,ee)),ve=Math.ceil(Math.min(X-C,te-ee));if(ie>0&&ve>=ie){const V=ie/ve;V>j&&($=Z,j=V)}else if(j===0){const V=Nt(C,O,X,he,ee,_e,te,me);(Y===void 0||V<Y)&&(Y=V,$=Z)}else if(j>0)return!1;return!0}}),p=$}p&&(i.preventDefault(),i.stopImmediatePropagation(),z(p))},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(e=this._ignoredInputResolve)===null||e===void 0||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._movers).forEach(i=>{this._movers[i]&&(this._movers[i].dispose(),delete this._movers[i])})}createMover(e,t,i){const s=new zt(this._tabster,e,this._onMoverDispose,t,i);return this._movers[s.id]=s,s}async _isIgnoredInput(e,t){var i;if(e.getAttribute("aria-expanded")==="true")return!0;if(Ge(e,Ot)){let s=0,o=0,r=0,a;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"){const n=e.type;if(r=(e.value||"").length,n==="email"||n==="number"){if(r){const l=(i=e.ownerDocument.defaultView)===null||i===void 0?void 0:i.getSelection();if(l){const f=l.toString().length,m=t===I.Left||t===I.Up;if(l.modify("extend",m?"backward":"forward","character"),f!==l.toString().length)return l.modify("extend",m?"forward":"backward","character"),!0;r=0}}}else{const l=e.selectionStart;if(l===null)return n==="hidden";s=l||0,o=e.selectionEnd||0}}else e.contentEditable==="true"&&(a=new(Ke(this._win))(n=>{this._ignoredInputResolve=h=>{delete this._ignoredInputResolve,n(h)};const u=this._win();this._ignoredInputTimer&&u.clearTimeout(this._ignoredInputTimer);const{anchorNode:l,focusNode:f,anchorOffset:m,focusOffset:d}=u.getSelection()||{};this._ignoredInputTimer=u.setTimeout(()=>{var h,_,v;delete this._ignoredInputTimer;const{anchorNode:g,focusNode:b,anchorOffset:E,focusOffset:T}=u.getSelection()||{};if(g!==l||b!==f||E!==m||T!==d){(h=this._ignoredInputResolve)===null||h===void 0||h.call(this,!1);return}if(s=E||0,o=T||0,r=((_=e.textContent)===null||_===void 0?void 0:_.length)||0,g&&b&&e.contains(g)&&e.contains(b)&&g!==e){let w=!1;const p=F=>{if(F===g)w=!0;else if(F===b)return!0;const R=F.textContent;if(R&&!F.firstChild){const y=R.length;w?b!==g&&(o+=y):(s+=y,o+=y)}let k=!1;for(let y=F.firstChild;y&&!k;y=y.nextSibling)k=p(y);return k};p(e)}(v=this._ignoredInputResolve)===null||v===void 0||v.call(this,!0)},0)}));if(a&&!await a||s!==o||s>0&&(t===I.Left||t===I.Up||t===I.Home)||s<r&&(t===I.Right||t===I.Down||t===I.End))return!0}return!1}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Lt(c,e,t,i){if(typeof MutationObserver>"u")return()=>{};const s=e.getWindow;let o;const r=l=>{var f,m,d,h,_;for(const v of l){const g=v.target,b=v.removedNodes,E=v.addedNodes;if(v.type==="attributes")v.attributeName===P&&t(e,g);else{for(let T=0;T<b.length;T++)a(b[T],!0),(m=(f=e._dummyObserver).domChanged)===null||m===void 0||m.call(f,g);for(let T=0;T<E.length;T++)a(E[T]),(h=(d=e._dummyObserver).domChanged)===null||h===void 0||h.call(d,g)}}(_=e.modalizer)===null||_===void 0||_.hiddenUpdate()};function a(l,f){o||(o=W(s).elementByUId),n(l,f);const m=fe(c,l,d=>n(d,f));if(m)for(;m.nextNode(););}function n(l,f){var m;if(!l.getAttribute)return NodeFilter.FILTER_SKIP;const d=l.__tabsterElementUID;return d&&o&&(f?delete o[d]:(m=o[d])!==null&&m!==void 0||(o[d]=new L(s,l))),(x(e,l)||l.hasAttribute(P))&&t(e,l,f),NodeFilter.FILTER_SKIP}const u=new MutationObserver(r);return i&&a(s().document.body),u.observe(c,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[P]}),()=>{u.disconnect()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Wt{constructor(){}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ut{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class St{constructor(e,t){var i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="4.4.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=rt(e),this._win=e;const s=this.getWindow;this.keyboardNavigation=new Ct(s),this.focusedElement=new M(this,s),this.focusable=new wt(this),this.root=new D(this,t==null?void 0:t.autoRoot),this.uncontrolled=new Wt,this.controlTab=(i=t==null?void 0:t.controlTab)!==null&&i!==void 0?i:!0,this.rootDummyInputs=!!(t!=null&&t.rootDummyInputs),this._dummyObserver=new dt(s),this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:o=>{if(!this._unobserve){const r=s().document;this._unobserve=Lt(r,this,Pe,o)}}},Ue(s),this.queueInit(()=>{this.internal.resumeObserver(!0)})}createTabster(e){const t=new Ut(this);return e||this._wrappers.add(t),t}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),this._wrappers.size===0&&this.dispose()}dispose(){var e,t,i,s,o,r,a;this.internal.stopObserver();const n=this._win;n==null||n.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],n&&this._forgetMemorizedTimer&&(n.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(e=this.outline)===null||e===void 0||e.dispose(),(t=this.crossOrigin)===null||t===void 0||t.dispose(),(i=this.deloser)===null||i===void 0||i.dispose(),(s=this.groupper)===null||s===void 0||s.dispose(),(o=this.mover)===null||o===void 0||o.dispose(),(r=this.modalizer)===null||r===void 0||r.dispose(),(a=this.observedElement)===null||a===void 0||a.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),nt(this.getWindow),Te(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),n&&(ot(n),delete n.__tabsterInstance,delete this._win)}storageEntry(e,t){const i=this._storage;let s=i.get(e);return s?t===!1&&Object.keys(s).length===0&&i.delete(e):t===!0&&(s={},i.set(e,s)),s}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),!this._forgetMemorizedTimer&&(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())Te(this.getWindow,e),M.forgetMemorized(this.focusedElement,e)},0),We(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=(t=this._win)===null||t===void 0?void 0:t.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach(t=>t())}}function Bt(c,e){let t=Gt(c);return t||(t=new St(c,e),c.__tabsterInstance=t),t.createTabster()}function Qt(c){const e=c.core;return e.groupper||(e.groupper=new Dt(e,e.getWindow)),e.groupper}function Jt(c){const e=c.core;return e.mover||(e.mover=new Pt(e,e.getWindow)),e.mover}function qt(c,e){const t=c.core;return t.deloser||(t.deloser=new je(t,e)),t.deloser}function Xt(c){const e=c.core;return e.modalizer||(e.modalizer=new kt(e)),e.modalizer}function Vt(c,e){c.core.disposeTabster(c,e)}function Gt(c){return c.__tabsterInstance}const Kt=()=>{const{targetDocument:c}=Xe(),e=(c==null?void 0:c.defaultView)||void 0,t=$e.useMemo(()=>e?Bt(e,{autoRoot:{},controlTab:!1}):null,[e]);return Ye(()=>()=>{t&&Vt(t)},[t]),t},$t=c=>(Kt(),He(c));export{jt as T,$t as a,Jt as b,Xt as c,qt as d,Qt as g,Kt as u};
